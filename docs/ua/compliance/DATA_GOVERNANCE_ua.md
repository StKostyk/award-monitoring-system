# Фреймворк Управління Даними: Система Моніторингу та Відстеження Нагород

**Проект**: Система Моніторингу та Відстеження Нагород для Українських Університетів  
**Контекст**: Портфоліо Проект Соло-Розробника (Безкоштовний/Відкритий Код)  
**Версія Фреймворку**: 1.0  
**Дата Вступу в Силу**: Серпень 2025  
**Офіцер з Захисту Даних**: Стефан Костик (Соло-Розробник)  
**Регуляторний Обсяг**: GDPR, Українські Закони про Захист Даних

---

## Виконавче Резюме

Цей Фреймворк Управління Даними встановлює всебічні політики та процедури для управління даними в рамках Системи Моніторингу та Відстеження Нагород. Фреймворк забезпечує відповідність GDPR, впроваджує принципи приватності за дизайном та надає чіткі вказівки щодо класифікації, обробки, збереження та контролю доступу до даних.

**Ключові Компоненти Фреймворку**:
- **Класифікація Даних**: 4-рівнева система класифікації, узгоджена з вимогами безпеки університету
- **Політики Збереження**: GDPR-сумісне автоматизоване управління життєвим циклом даних
- **Контролі Доступу**: Доступ на основі ролей з принципом найменших привілеїв
- **Контролі Приватності**: Вбудоване управління згодою та права суб'єктів даних

---

## 1. Класифікація Даних

### **1.1 Рівні Класифікації**

| **Класифікація** | **Визначення** | **Приклади** | **Рівень Доступу** | **Збереження** |
|------------------|----------------|--------------|-------------------|----------------|
| **Публічна** | Інформація, схвалена для публічного розкриття | Опубліковані нагороди, публічні профілі, записи досягнень | Будь-хто зареєстрований | Постійно |
| **Внутрішня** | Інформація для внутрішнього використання університету | Структури департаментів, стани робочих процесів, системні конфігурації | Автентифіковані користувачі | 7 років |
| **Конфіденційна** | Чутлива інформація, що потребує захисту | Особисті контактні дані, записи згоди, журнали аудиту | Лише авторизовані ролі | Контроль користувача/3-7 років |
| **Обмежена** | Високочутлива інформація, що потребує спеціального поводження | Скановані сертифікати, документи оцінки, звернення | Спеціальні дозволи | Визначається користувачем (1-10 років) |

### **1.2 Відображення Категорій Даних**

```yaml
# Схема Класифікації Даних
award_data:
  classification: Public
  categories:
    - award_title: Public
    - recipient_name: Public  
    - institution: Public
    - award_date: Public
    - award_type: Public
    - verification_status: Public

user_data:
  classification: Internal/Confidential
  categories:
    - basic_profile: Internal
    - contact_information: Confidential
    - consent_records: Confidential
    - activity_logs: Confidential

document_data:
  classification: Restricted
  categories:
    - scanned_certificates: Restricted
    - supporting_documents: Restricted
    - assessment_notes: Restricted
    - appeal_documents: Restricted

system_data:
  classification: Internal/Confidential
  categories:
    - application_logs: Internal
    - security_logs: Confidential
    - backup_data: Confidential
    - configuration_data: Internal
```

### **1.3 Процедури Обробки Даних**

| **Класифікація** | **Вимоги до Зберігання** | **Передача** | **Обробка** | **Утилізація** |
|------------------|--------------------------|--------------|-------------|----------------|
| **Публічна** | Стандартне шифрування | HTTPS/TLS 1.3 | Лише зареєстровані користувачі | Безпечне видалення після збереження |
| **Внутрішня** | AES-256 шифрування | HTTPS + автентифікація | Лише авторизовані користувачі | Безпечне стирання |
| **Конфіденційна** | AES-256 + логування доступу | Шифрована + аудиторський слід | Доступ на основі ролей | Сертифіковане знищення |
| **Обмежена** | AES-256 + управління ключами | Наскрізне шифрування | Явний дозвіл | Криптографічне стирання |

---

## 2. Політики Збереження

### **2.1 Матриця Збереження Даних**

| **Категорія Даних** | **Правова Основа** | **Період Збереження** | **Авто-Видалення** | **Контроль Користувача** |
|---------------------|-------------------|----------------------|-------------------|-------------------------|
| **Записи Нагород** | Законний Інтерес | Постійно (публічний запис) | Ні | Лише для читання після працевлаштування |
| **Профілі Співробітників** | Законний Інтерес | 7 років після працевлаштування | Так | Контроль видимості профілю |
| **Контактна Інформація** | Згода | Контроль користувача | Ні | Повний контроль користувача |
| **Скановані Документи** | Явна Згода | Визначається користувачем (1-10 років) | Так | Періоди, визначені користувачем |
| **Записи Згоди** | Правове Зобов'язання | 7 років від відкликання | Так | Тільки перегляд для користувачів |
| **Системні Журнали** | Законний Інтерес | 3 роки | Так | Немає контролю користувача |
| **Аудиторські Сліди** | Правове Зобов'язання | 7 років | Так | Немає контролю користувача |

### **2.2 Автоматизована Реалізація Збереження**

```java
// Реалізація Сервісу Збереження Даних
@Service
@Scheduled
public class DataRetentionService {
    
    @Scheduled(cron = "0 0 2 * * ?") // Щоденно о 2 ранку
    public void processRetentionPolicies() {
        
        // Обробити збереження документів, визначених користувачем
        processDocumentRetention();
        
        // Обробити збереження профілів на основі працевлаштування  
        processProfileRetention();
        
        // Обробити збереження системних журналів
        processLogRetention();
        
        // Обробити збереження записів згоди
        processConsentRetention();
    }
    
    private void processDocumentRetention() {
        List<Document> expiredDocs = documentRepository
            .findDocumentsWithExpiredRetention(LocalDate.now());
            
        for (Document doc : expiredDocs) {
            if (doc.isEligibleForDeletion()) {
                securelyDeleteDocument(doc);
                auditService.logDataDeletion(doc);
            }
        }
    }
    
    private void processProfileRetention() {
        List<User> expiredProfiles = userRepository
            .findUsersWithExpiredEmployment(LocalDate.now().minusYears(7));
            
        for (User user : expiredProfiles) {
            if (!user.hasActiveAwards()) {
                anonymizeUserProfile(user);
                auditService.logProfileAnonymization(user);
            }
        }
    }
}
```

### **2.3 Процедури Видалення Даних**

```sql
-- Процедури Видалення Даних
-- 1. М'яке Видалення (Початкове)
UPDATE users SET 
    status = 'DELETED',
    deletion_requested_at = CURRENT_TIMESTAMP,
    scheduled_deletion_date = CURRENT_TIMESTAMP + INTERVAL '30 days'
WHERE user_id = ?;

-- 2. Попередження Грейс Періоду
SELECT user_id, email, scheduled_deletion_date 
FROM users 
WHERE status = 'DELETED' 
    AND scheduled_deletion_date <= CURRENT_TIMESTAMP + INTERVAL '7 days'
    AND deletion_warning_sent = FALSE;

-- 3. Жорстке Видалення (Після Грейс Періоду)
BEGIN;
    -- Анонімізувати нагороди (зберегти записи досягнень)
    UPDATE awards SET recipient_name = 'ANONYMIZED_USER_' || user_id 
    WHERE user_id = ?;
    
    -- Видалити особисті дані
    DELETE FROM user_profiles WHERE user_id = ?;
    DELETE FROM contact_information WHERE user_id = ?;
    DELETE FROM consent_records WHERE user_id = ?;
    
    -- Оновити запис користувача до анонімного
    UPDATE users SET 
        full_name = NULL,
        email = NULL,
        status = 'ANONYMIZED'
    WHERE user_id = ?;
COMMIT;
```

---

## 3. Контролі Доступу

### **3.1 Контроль Доступу на Основі Ролей (RBAC)**

| **Роль** | **Доступ до Даних** | **Дозволи** | **Обмеження Класифікації** |
|----------|--------------------|-----------|-----------------------------|
| **Автентифікований Користувач** | Власні дані + публічні | Перегляд/редагування власного профілю, подання нагород | Публічні + власні Внутрішні/Конфіденційні |
| **Адміністратор Факультету** | Дані факультету | Схвалення нагород факультету, управління користувачами | Публічні + Внутрішні + Конфіденційні |
| **Системний Адміністратор** | Всі системні дані | Повне управління системою | Всі класифікації |
| **Офіцер GDPR** | Дані відповідності | Права суб'єктів даних, доступ до аудиту | Всі для цілей відповідності |

### **3.2 Реалізація Контролю Доступу**

```java
// Конфігурація Spring Security
@Configuration
@EnableMethodSecurity
public class DataGovernanceSecurityConfig {
    
    @PreAuthorize("hasRole('SYSTEM_ADMIN') or (hasRole('USER') and #userId == authentication.principal.id)")
    public UserProfile getUserProfile(Long userId) {
        return userService.getProfile(userId);
    }
    
    @PreAuthorize("@dataClassificationService.canAccess(authentication, #documentId)")
    public Document getDocument(Long documentId) {
        return documentService.getDocument(documentId);
    }
    
    @PostAuthorize("@dataClassificationService.filterSensitiveData(returnObject, authentication)")
    public List<Award> getAwards(AwardSearchCriteria criteria) {
        return awardService.searchAwards(criteria);
    }
}

@Service
public class DataClassificationService {
    
    public boolean canAccess(Authentication auth, Long documentId) {
        Document doc = documentRepository.findById(documentId);
        DataClassification classification = doc.getClassification();
        
        return switch (classification) {
            case PUBLIC -> true;
            case INTERNAL -> auth.isAuthenticated();
            case CONFIDENTIAL -> hasConfidentialAccess(auth, doc);
            case RESTRICTED -> hasRestrictedAccess(auth, doc);
        };
    }
    
    private boolean hasConfidentialAccess(Authentication auth, Document doc) {
        // Перевірити, чи є користувач власником, адміністратором департаменту, чи має спеціальний дозвіл
        return isDocumentOwner(auth, doc) || 
               hasRole(auth, "DEPARTMENT_ADMIN") ||
               hasSpecificPermission(auth, doc);
    }
}
```

---

## 4. Фреймворк Оцінки Впливу на Приватність

### **4.1 Обґрунтування Збору Даних**

| **Тип Даних** | **Мета Збору** | **Правова Основа** | **Оцінка Необхідності** |
|---------------|----------------|-------------------|-------------------------|
| **Імена Співробітників** | Визнання нагород та прозорість | Законний Інтерес | Необхідно - основна функціональність |
| **Інформація про Факультет** | Категоризація нагород та робочий процес схвалення | Законний Інтерес | Необхідно - бізнес-процес |
| **Контактні Дані** | Системні сповіщення та комунікація | Згода | Опціонально - перевага користувача |
| **Скановані Сертифікати** | Верифікація нагород та автентичність | Явна Згода | Опціонально - покращена верифікація |
| **Журнали Активності** | Моніторинг безпеки та відповідність аудиту | Законний Інтерес | Необхідно - безпека/відповідність |

### **4.2 Матриця Законності Обробки**

```yaml
# Оцінка Законної Основи GDPR Стаття 6
lawful_basis_assessment:
  legitimate_interest:
    purposes:
      - Інституційна прозорість
      - Верифікація нагород
      - Визнання академічних досягнень
    balancing_test:
      interests: Інституційна підзвітність та громадська довіра
      necessity: Висока - відповідність основній місії
      impact_on_rights: Низький - публічно доступна інформація
      safeguards: Згода на чутливі дані, варіанти анонімізації
      
  consent:
    purposes:
      - Маркетингові комунікації
      - Покращена обробка документів
      - Аналітика та відстеження використання
    requirements:
      - Вільно надана
      - Конкретна та інформована
      - Відкликна
      - Деталізовані варіанти згоди
      
  legal_obligation:
    purposes:
      - Ведення аудиторського сліду
      - Повідомлення про порушення
      - Регуляторна звітність
    sources:
      - Вимоги відповідності GDPR
      - Українські закони про захист даних
      - Університетські політики аудиту
```

### **4.3 Реалізація Прав Суб'єктів Даних**

| **Право (Стаття GDPR)** | **Реалізація** | **Час Відповіді** | **Рівень Автоматизації** |
|--------------------------|----------------|-------------------|-------------------------|
| **Інформація (13-14)** | Політика приватності, форми згоди | Негайно | Повністю автоматизовано |
| **Доступ (15)** | Самообслуговування експорту даних | 1 місяць | Повністю автоматизовано |
| **Виправлення (16)** | Інтерфейс редагування профілю | Негайно | Повністю автоматизовано |
| **Стирання (17)** | Робочий процес видалення облікового запису | 1 місяць | Напівавтоматизовано |
| **Обмеження Обробки (18)** | Варіанти призупинення облікового запису | 1-3 дні | Напівавтоматизовано |
| **Портативність Даних (20)** | Функціональність експорту JSON/CSV | 1 місяць | Повністю автоматизовано |
| **Заперечення (21)** | Механізми відмови | Негайно | Повністю автоматизовано |

### **4.4 Механізми Транскордонної Передачі**

```yaml
# Фреймворк Міжнародної Передачі Даних
transfer_mechanisms:
  ukraine_to_eu:
    mechanism: Рішення про Адекватність (якщо доступне) або Стандартні Договірні Положення
    assessment: Україна працює над адекватністю GDPR
    safeguards: Шифрування в русі, логування доступу
    
  cloud_providers:
    aws_eu:
      mechanism: Стандартні Договірні Положення
      data_localization: Тільки ЄС регіони
      processor_certification: SOC 2, ISO 27001
      
    azure_eu:
      mechanism: Стандартні Договірні Положення  
      data_localization: Тільки ЄС регіони
      processor_certification: SOC 2, ISO 27001
      
  data_minimization:
    principles:
      - Збирати тільки необхідні дані
      - Обробляти в юрисдикції походження, коли можливо
      - Впроваджувати контролі резидентності даних
      - Регулярний аналіз картування та потоку даних
```

---

## 5. Реалізація Управління

### **5.1 Ролі та Відповідальності Управління Даними**

| **Роль** | **Відповідальності** | **Повноваження** | **Звітність** |
|----------|----------------------|------------------|---------------|
| **Офіцер з Захисту Даних** | Відповідність GDPR, політики приватності, реагування на порушення | Схвалення політик, повноваження аудиту | Ректор, Юридична Команда |
| **Власник Даних** | Точність даних, схвалення доступу, рішення про збереження | Бізнес-правила, доступ користувачів | Завідувач Департаменту |
| **Стюард Даних** | Щоденне управління даними, забезпечення якості | Операційні процедури | Власник Даних |
| **Системний Адміністратор** | Технічна реалізація, контроль безпеки | Конфігурація системи | IT Менеджер |

### **5.2 Моніторинг Відповідності та Звітність**

```java
// Сервіс Моніторингу Відповідності
@Service
public class ComplianceMonitoringService {
    
    @Scheduled(cron = "0 0 1 * * ?") // Щоденна перевірка відповідності
    public void generateComplianceReport() {
        ComplianceReport report = ComplianceReport.builder()
            .reportDate(LocalDate.now())
            .dataClassificationAudit(auditDataClassification())
            .retentionComplianceCheck(checkRetentionCompliance())
            .accessControlAudit(auditAccessControls())
            .consentValidityCheck(validateConsents())
            .privacyRightsStatus(checkPrivacyRightsRequests())
            .build();
            
        if (report.hasViolations()) {
            alertComplianceOfficer(report);
        }
        
        complianceReportRepository.save(report);
    }
    
    private DataClassificationAudit auditDataClassification() {
        // Перевірити, що всі дані мають правильну класифікацію
        List<UnclassifiedData> unclassified = dataRepository.findUnclassifiedData();
        
        return DataClassificationAudit.builder()
            .totalRecords(dataRepository.count())
            .classifiedRecords(dataRepository.countClassified())
            .unclassifiedRecords(unclassified.size())
            .compliancePercentage(calculateCompliancePercentage())
            .build();
    }
}
```

### **5.3 Метрики Управління Даними**

| **Метрика** | **Ціль** | **Вимірювання** | **Частота** |
|-------------|----------|-----------------|-------------|
| **Покриття Класифікації Даних** | 100% | Класифіковані записи / Загальні записи | Щоденно |
| **Відповідність Політики Збереження** | 95% | Відповідні видалення / Необхідні видалення | Щотижнево |
| **Порушення Контролю Доступу** | 0 | Спроби несанкціонованого доступу | В реальному часі |
| **Час Відповіді на Права Приватності** | <30 днів | Середній час відповіді на запити | Щомісячно |
| **Коефіцієнт Дійсності Згоди** | 90% | Дійсні згоди / Загальні згоди | Щомісячно |

---

## 6. Часова Лінія Реалізації

### **6.1 Фази Реалізації Управління Даними**

| **Фаза** | **Тривалість** | **Результати** | **Критерії Успіху** |
|----------|----------------|----------------|---------------------|
| **Фаза 1: Фундамент** | Місяць 1 | Класифікація даних, основні політики | 100% даних класифіковано |
| **Фаза 2: Автоматизація** | Місяць 2 | Автоматизація збереження, контролі доступу | Автоматизована обробка збереження |
| **Фаза 3: Моніторинг** | Місяць 3 | Моніторинг відповідності, звітність | Щоденні звіти відповідності |
| **Фаза 4: Оптимізація** | Місяць 4 | Налаштування продуктивності, навчання користувачів | >95% метрик відповідності |

### **6.2 Навчання та Усвідомлення**

```markdown
# План Навчання Управління Даними

## Навчання на Основі Ролей
- **Всі Користувачі**: Основи класифікації даних, права приватності
- **Адміністратори**: Управління контролем доступу, політики збереження  
- **Офіцер з Відповідності**: Вимоги GDPR, процедури аудиту
- **Розробники**: Приватність за дизайном, безпечні практики кодування

## Навчальні Матеріали
- Інтерактивні модулі електронного навчання
- Короткі довідкові посібники
- Відеоуроки
- Чек-листи відповідності

## Оцінка та Сертифікація
- Оцінки знань для кожної ролі
- Річні вимоги повторної сертифікації
- Відстеження компетентності відповідності
```

---

## 7. Перегляд та Оновлення

### **7.1 Підтримка Фреймворку**

- **Квартальний Перегляд**: Оновлення політик, регуляторні зміни
- **Річна Оцінка**: Повна оцінка фреймворку
- **Оновлення, Викликані Інцидентами**: Реагування на порушення або порушення
- **Регуляторні Оновлення**: Адаптація до нових правових вимог

### **7.2 Контроль Версій**

| **Версія** | **Дата** | **Зміни** | **Затверджувач** |
|------------|----------|-----------|------------------|
| 1.0 | Серпень 2025 | Початковий фреймворк | Стефан Костик |
| 1.1 | TBD | Регуляторні оновлення | TBD |

---

*Версія Документу: 1.0*  
*Класифікація: Внутрішня*  
*Наступний Перегляд: Листопад 2025*  
*Офіцер з Захисту Даних: Стефан Костик (Соло-Розробник)* 