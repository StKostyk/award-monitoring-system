@startuml Class_Template_UA
' =============================================================================
' Шаблон Діаграми Класів
' Система Моніторингу та Відстеження Нагород
' =============================================================================
' Використання: Скопіюйте цей шаблон для документації доменної моделі
' Найкраще для: Зв'язки сутностей, інтерфейси сервісів, структура модулів
' =============================================================================

!theme plain
skinparam classAttributeIconSize 0
skinparam linetype ortho

title [Назва Модуля] - Діаграма Класів

' =============================================================================
' ПАКЕТИ
' =============================================================================
package "domain.назва_модуля" {
    
    ' =============================================================================
    ' АБСТРАКТНІ БАЗОВІ КЛАСИ
    ' =============================================================================
    abstract class BaseEntity {
        -id: Long
        -createdAt: Instant
        -updatedAt: Instant
        -version: Long
        +getId(): Long
        +getCreatedAt(): Instant
        +getUpdatedAt(): Instant
    }
    
    ' =============================================================================
    ' СУТНОСТІ
    ' =============================================================================
    class EntityName extends BaseEntity {
        ' Приватні поля
        -fieldName: FieldType
        -status: EntityStatus
        -relatedEntityId: Long
        
        ' Конструктори
        +EntityName()
        +EntityName(param: Type)
        
        ' Геттери/Сеттери (тільки важливі)
        +getFieldName(): FieldType
        +setFieldName(value: FieldType): void
        
        ' Бізнес-методи
        +businessMethod(): ReturnType
        +validate(): boolean
        +isActive(): boolean
    }
    
    ' =============================================================================
    ' ПЕРЕЛІКИ
    ' =============================================================================
    enum EntityStatus {
        DRAFT
        ACTIVE
        INACTIVE
        ARCHIVED
    }
    
    ' =============================================================================
    ' ОБ'ЄКТИ-ЗНАЧЕННЯ
    ' =============================================================================
    class ValueObject <<Об'єкт-Значення>> {
        -property1: Type1
        -property2: Type2
        +ValueObject(p1: Type1, p2: Type2)
        +getProperty1(): Type1
        +equals(other: Object): boolean
        +hashCode(): int
    }
}

' =============================================================================
' ІНТЕРФЕЙСИ
' =============================================================================
package "service" {
    interface EntityService <<Сервіс>> {
        +create(command: CreateCommand): Entity
        +update(command: UpdateCommand): Entity
        +delete(id: Long): void
        +findById(id: Long): Optional<Entity>
        +findAll(pageable: Pageable): Page<Entity>
    }
    
    class EntityServiceImpl implements EntityService {
        -repository: EntityRepository
        -validator: EntityValidator
        -eventPublisher: EventPublisher
    }
}

package "repository" {
    interface EntityRepository <<Репозиторій>> {
        +findById(id: Long): Optional<Entity>
        +findByStatus(status: EntityStatus): List<Entity>
        +save(entity: Entity): Entity
        +delete(entity: Entity): void
        +existsById(id: Long): boolean
    }
}

' =============================================================================
' ЗВ'ЯЗКИ
' =============================================================================

' Асоціація (просте посилання)
' EntityA --> EntityB : "використовує"

' Агрегація (ціле-частина, частина може існувати незалежно)
' EntityA o-- EntityB : "містить"

' Композиція (ціле-частина, частина не може існувати незалежно)
' EntityA *-- EntityB : "володіє"

' Наслідування
' ChildEntity --|> ParentEntity

' Реалізація Інтерфейсу
' ServiceImpl ..|> Service

' Залежність (тимчасове використання)
' EntityA ..> EntityB : "залежить від"

' Приклади зв'язків
EntityName --> EntityStatus : "має"
EntityServiceImpl --> EntityRepository : "використовує"
EntityServiceImpl --> EntityName : "керує"

' =============================================================================
' КАРДИНАЛЬНІСТЬ
' =============================================================================
' "1" - рівно один
' "0..1" - нуль або один
' "*" або "0..*" - нуль або багато
' "1..*" - один або багато

' Приклад з кардинальністю
' EntityA "1" --> "*" EntityB : "має багато"

' =============================================================================
' СТЕРЕОТИПИ
' =============================================================================
' <<Сутність>> - доменна сутність
' <<Об'єкт-Значення>> - незмінний об'єкт-значення
' <<Сервіс>> - бізнес-сервіс
' <<Репозиторій>> - доступ до даних
' <<Контролер>> - API контролер
' <<DTO>> - об'єкт передачі даних
' <<Подія>> - доменна подія
' <<Фабрика>> - паттерн фабрика

' =============================================================================
' ПРИМІТКИ
' =============================================================================
note right of EntityName
    Бізнес-правила:
    • Правило 1
    • Правило 2
end note

note bottom of EntityRepository
    База даних: PostgreSQL
    Схема: public
    Таблиця: entity_names
end note

@enduml


