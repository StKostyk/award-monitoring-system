# ADR-016: Вибір styling framework

**Статус**: Прийнято  
**Дата**: 2025-08-21  
**Автор**: Стефан Костик  
**Зацікавлені сторони**: Архітектор проекту, Frontend команда, UX команда

---

## Контекст

Система моніторингу та відстеження нагород потребує комплексного підходу до стилізації, який підтримує theming, супроводжуваність та компонентно-орієнтовану архітектуру. Рішення повинно добре інтегруватися з Angular Material та забезпечувати гнучкість для користувацьких потреб стилізації.

### Передумови
- Потреба в супроводжуваній та масштабованій CSS архітектурі
- Компонентно-орієнтований підхід до стилізації для відповідності Angular архітектурі
- Вимоги тематизації для кастомізації бренда та доступності
- Інтеграція з Angular Material дизайн системою
- Підтримка responsive дизайну та mobile-first підходу

### Припущення
- SCSS забезпечує кращу супроводжуваність ніж звичайний CSS
- Компонентно-орієнтована стилізація узгоджується з Angular компонентною архітектурою
- Angular Material система тематизації достатня для дизайнерських вимог
- Можливості препроцесингу є важливими для корпоративного масштабу стилізації

---

## Рішення

**SCSS + Angular Material** було обрано як фреймворк стилізації для Системи моніторингу та відстеження нагород.

### Обраний підхід
- **CSS препроцесор**: SCSS (Sass) для розширених CSS можливостей
- **Компонентна стилізація**: Angular компонентні стилі з ViewEncapsulation
- **Тематизація**: Angular Material система тематизації з користувацькою темою
- **Архітектура**: BEM методологія для користувацьких компонентів

### Обґрунтування
- **Компонентно-орієнтована стилізація**: Узгоджується з Angular компонентною архітектурою
- **Підтримка тем**: Angular Material забезпечує комплексні можливості тематизації
- **Супроводжуваність**: SCSS змінні, mixins та функції покращують організацію коду
- **Інтеграція екосистеми**: Ідеальна інтеграція з Angular CLI та процесом збірки
- **Гнучкість**: Поєднує Material Design з можливостями користувацької стилізації

---

## Наслідки

### Позитивні наслідки
- **Легкий в обслуговуванні код**: SCSS функції покращують організацію та повторне використання коду
- **Ізоляція компонентів**: Angular ViewEncapsulation запобігає конфліктам стилів
- **Система тем**: Комплексна тематизація з Material Design токенами
- **Інтеграція збірки**: Безшовна інтеграція з процесом збірки Angular CLI
- **Досвід розробника**: Відмінна підтримка IDE та можливості дебаггінгу

### Негативні наслідки
- **Крива навчання**: SCSS синтаксис та концепції Angular Material тематизації
- **Складність збірки**: Додатковий крок компіляції для SCSS
- **Розмір бандлу**: SCSS компіляція може генерувати більший CSS якщо не оптимізований

### Нейтральні наслідки
- **Препроцесинг**: Потребує SCSS компіляції як частини процесу збірки
- **Архітектура**: Потребує дисциплінованого підходу до організації стилів

---

## Розглянуті альтернативи

### Альтернатива 1: CSS-in-JS (Стилізовані компоненти)
- **Переваги**: Динамічна стилізація, спільне розміщення компонентів, TypeScript інтеграція
- **Недоліки**: Runtime накладні витрати, обмежена підтримка Angular екосистеми
- **Причина відхилення**: Не узгоджується з архітектурою стилізації Angular

### Альтернатива 2: Tailwind CSS
- **Переваги**: Utility-first підхід, швидка розробка, малий розмір бандлу
- **Недоліки**: Багатослівність HTML, конфлікти з Material Design, крива навчання
- **Причина відхилення**: Конфліктує з Angular Material дизайн системою

### Альтернатива 3: Звичайний CSS
- **Переваги**: Відсутність препроцесингу, простий підхід, стандартна технологія
- **Недоліки**: Обмежені функції, складніше підтримувати, відсутність системи тематизації
- **Причина відхилення**: Недостатньо для корпоративного масштабу додатка

---

## Примітки з реалізації

### Технічні вимоги
- **Версія SCSS**: Остання сумісна з Angular CLI
- **Angular Material**: Система тематизації для дизайн токенів
- **PostCSS**: Autoprefixer для сумісності браузерів
- **Лінтинг**: Stylelint для якості SCSS коду

### Структура проекту
```
src/styles/
├── _variables.scss        # Глобальні змінні
├── _mixins.scss          # Переважувальні mixins
├── _themes.scss          # Визначення Material тем
├── _typography.scss      # Типографічні стилі
├── _layout.scss          # Layout утиліти
├── components/           # Компонентно-специфічні стилі
└── styles.scss           # Головна таблиця стилів
```

### Конфігурація теми
```scss
@use '@angular/material' as mat;
@import 'variables';

// Визначення палітр
$primary-palette: mat.define-palette($custom-blue);
$accent-palette: mat.define-palette($custom-amber);
$warn-palette: mat.define-palette(mat.$red-palette);

// Створення теми
$theme: mat.define-light-theme((
  color: (
    primary: $primary-palette,
    accent: $accent-palette,
    warn: $warn-palette,
  ),
  typography: mat.define-typography-config(),
  density: 0,
));

// Включення стилів теми
@include mat.all-component-themes($theme);
```

### Паттерн стилізації компонентів
```scss
// Компонентний SCSS файл
.award-card {
  @include mat.elevation(2);
  
  &__header {
    @include mat.typography-level($theme, 'headline-6');
    color: mat.get-color-from-palette($primary-palette, 500);
  }
  
  &__content {
    padding: 16px;
    
    @include mobile {
      padding: 8px;
    }
  }
}
```

### Responsive Design Mixins
```scss
// Breakpoint mixins
@mixin mobile {
  @media (max-width: 767px) {
    @content;
  }
}

@mixin tablet {
  @media (min-width: 768px) and (max-width: 1023px) {
    @content;
  }
}

@mixin desktop {
  @media (min-width: 1024px) {
    @content;
  }
}
```

---

## Відповідність та якість

### Наслідки для доступності
- **Контраст кольорів**: Material theming забезпечує WCAG AA коефіцієнти контрасту
- **Індикатори фокусу**: Angular Material забезпечує доступні індикатори фокусу
- **Високий контраст**: Підтримка тем високого контрасту
- **Адаптивний дизайн**: Mobile-first підхід для доступності

### Вплив на продуктивність
- **Tree Shaking**: Невикористані Material стилі виключаються в продакшені
- **Critical CSS**: Above-the-fold стилі можуть бути включені inline
- **Оптимізація бандлу**: SCSS компіляція оптимізує CSS вивід

### Супроводжуваність
- **Організація коду**: Чітке розділення турбот з SCSS частинами
- **Керівництво зі стилю**: BEM методологія для консистентних угод про найменування
- **Лінтинг**: Stylelint забезпечує якість та консистентність коду
- **Документація**: Документація керівництва зі стилю для консистентності команди

---

## Метрики успіху

### Ключові показники ефективності
- **Розмір CSS бандлу**: < 100KB для основних стилів
- **Кастомізація теми**: 100% Material компонентів стилізовано консистентно
- **Оцінка доступності**: 100% відповідність контрасту кольорів

### Моніторинг та сповіщення
- **Розмір бандлу**: Моніторинг зростання розміру CSS бандлу
- **Продуктивність**: Відстеження метрик продуктивності, пов'язаних зі стилями
- **Доступність**: Автоматизоване тестування доступності для контрасту кольорів

---

## Пов'язані документи

- **Технічний стек**: [Вибір технологічного стеку](../TECH_STACK_ua.md)
- **Інші ADR**: [ADR-014 UI Component Library](./ADR-014-UI-Component-Library-ua.md)
- **Зовнішні ресурси**: [Angular Material Theming](https://material.angular.io/guide/theming)

---

## Історія версій

| **Дата** | **Автор** | **Зміни** | **Причина** |
|----------|------------|-------------|------------|
| 2025-08-21 | Стефан Костик | Початкова версія | Створення документа |

---

**Статус документа**: Затверджено  
**Дата наступного огляду**: 2026-02-21  
**Категорія ADR**: Технологія 