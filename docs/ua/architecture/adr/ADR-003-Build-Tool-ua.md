# ADR-003: Вибір інструменту збірки

**Статус**: Прийнято  
**Дата**: 2026-08-20  
**Автор**: Стефан Костик  
**Зацікавлені сторони**: Архітектор проекту, Команда розробки

---

## Контекст

Система моніторингу та відстеження нагород потребує надійного інструменту збірки для управління залежностями, компіляції, тестування та пакування. Інструмент повинен підтримувати практики корпоративної Java розробки та забезпечувати відмінну інтеграцію з IDE.

### Передумови
- Потреба в надійному управлінні залежностями та їх розв'язанні
- Підтримка структури багатомодульного проекту
- Інтеграція з CI/CD pipeline та інструментами якості
- Вимоги корпоративної стандартизації

---

## Рішення

**Apache Maven 3.9+** було обрано як інструмент збірки для Системи моніторингу та відстеження нагород.

### Обраний підхід
- **Інструмент збірки**: Apache Maven 3.9+
- **Структура проекту**: Стандартна структура директорії Maven
- **Управління залежностями**: Репозиторій Maven Central з корпоративними репозиторіями
- **Екосистема плагінів**: Spring Boot, Surefire, Failsafe, JaCoCo плагіни

### Обґрунтування
- **Корпоративний стандарт**: Широко прийнятий в корпоративних Java середовищах
- **Інтеграція Spring Boot**: Відмінна інтеграція з екосистемою Spring Boot
- **Управління залежностями**: Надійне розв'язання транзитивних залежностей
- **Екосистема плагінів**: Комплексна екосистема плагінів для якості та тестування
- **Підтримка IDE**: Відмінна підтримка в IntelliJ IDEA та інших IDE

---

## Наслідки

### Позитивні наслідки
- **Стандартизація**: Дотримання встановлених корпоративних шаблонів
- **Інтеграція інструментів**: Безшовна інтеграція з SonarQube, JaCoCo, Spring Boot
- **Документація**: Обширна документація та знання спільноти
- **Розв'язання залежностей**: Надійне управління залежностями

### Негативні наслідки
- **Продуктивність збірки**: Повільніше ніж Gradle для великих проектів
- **Конфігурація**: XML-базована конфігурація може бути багатослівною

---

## Розглянуті альтернативи

### Альтернатива 1: Gradle 8+
- **Переваги**: Швидші збірки, гнучкий DSL, інкрементальна компіляція
- **Недоліки**: Менше корпоративного прийняття, складніше для простих проектів
- **Причина відхилення**: Maven краще вписується в корпоративні стандарти

### Альтернатива 2: SBT
- **Переваги**: Розширене управління залежностями, підтримка Scala
- **Недоліки**: Орієнтований переважно на Scala, менша інтеграція Java екосистеми
- **Причина відхилення**: Не підходить для Java-орієнтованого проекту

---

## Примітки з реалізації

### Технічні вимоги
- **Версія Maven**: 3.9+ для підтримки Java 21
- **Сумісність Java**: Конфігурація плагіну компілятора Java 21
- **Репозиторій**: Maven Central з потенційним корпоративним проксі
- **Wrapper**: Maven Wrapper для відтворюваності збірки

### Ключові плагіни
```xml
<plugins>
    <plugin>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-maven-plugin</artifactId>
    </plugin>
    <plugin>
        <groupId>org.jacoco</groupId>
        <artifactId>jacoco-maven-plugin</artifactId>
    </plugin>
    <plugin>
        <groupId>org.sonarsource.scanner.maven</groupId>
        <artifactId>sonar-maven-plugin</artifactId>
    </plugin>
</plugins>
```

---

## Метрики успіху

- **Успіх збірки**: 100% успішних збірок у всіх середовищах
- **Час збірки**: < 2 хвилин для чистої збірки
- **Розв'язання залежностей**: Відсутність конфліктів залежностей

---

## Пов'язані документи

- **Технічний стек**: [Вибір технологічного стеку](../TECH_STACK_ua.md)
- **Інші ADR**: [ADR-001 Backend Framework](./ADR-001-Backend-Framework-ua.md)
- **Зовнішні ресурси**: [Документація Maven](https://maven.apache.org/)

---

## Історія версій

| **Дата** | **Автор** | **Зміни** | **Причина** |
|----------|------------|-------------|------------|
| 2025-08-20 | Стефан Костик | Початкова версія | Створення документа |

---

**Статус документа**: Затверджено  
**Дата наступного огляду**: 2026-02-20  
**Категорія ADR**: Технологія 