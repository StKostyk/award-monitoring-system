# ADR-001: Вибір Backend Framework

**Статус**: Прийнято  
**Дата**: 2025-08-20  
**Автор**: Стефан Костик  
**Зацікавлені сторони**: Архітектор проекту, Команда розробки

---

## Контекст

Система моніторингу та відстеження нагород потребує надійного, корпоративного бекенд фреймворку, який може обробляти складну бізнес-логіку, вимоги безпеки та інтеграцію з множинними зовнішніми системами. Як портфоліо проект соло розробника, фреймворк повинен збалансувати корпоративні можливості з продуктивністю розробки.

### Передумови
- Потреба в швидкій розробці додатків зі збереженням корпоративних стандартів
- Вимога до комплексних функцій безпеки (OAuth2, JWT, RBAC)
- Потреби інтеграції з базами даних, системами повідомлень та зовнішніми API
- Вимоги відповідності GDPR та підтримка інтернаціоналізації
- Мета портфоліо - продемонструвати експертизу в ентерпрайз Java

### Припущення
- Контекст соло розробника вимагає відмінного інструментарію та документації
- Корпоративне прийняття та підтримка спільноти критичні для довіри
- Фреймворк повинен підтримувати як монолітну, так і мікросервісну архітектури
- Продуктивність та масштабованість повинні відповідати корпоративним стандартам

---

## Рішення

**Spring Boot 3.2+** було обрано як основний backend framework для Системи моніторингу та відстеження нагород.

### Обраний підхід
- **Framework**: Spring Boot 3.2+ з Spring Framework 6+
- **Основні модулі**: Spring Web, Spring Data JPA, Spring Security, Spring Cloud
- **Конфігурація**: Java-базована конфігурація з application.yml
- **Пакування**: Виконуваний JAR з вбудованим Tomcat

### Обґрунтування
- **Зрілість екосистеми**: Комплексна Spring екосистема з доведеним корпоративним прийняттям
- **Продуктивність**: Автоконфігурація, стартові залежності та відмінна підтримка IDE
- **Безпека**: Надійна інтеграція Spring Security з підтримкою OAuth2 та JWT
- **Інтеграція**: Безшовна інтеграція з обраним технічним стеком (PostgreSQL, Redis, Kafka)
- **Документація**: Обширна документація та ресурси спільноти
- **Ентерпрайз функції**: Готові до продакшену функції (actuator, метрики, health checks)

---

## Наслідки

### Позитивні наслідки
- **Швидка розробка**: Автоконфігурація та стартери прискорюють розробку
- **Корпоративна довіра**: Галузево стандартний фреймворк демонструє професійну компетентність
- **Безпека**: Вбудовані функції безпеки з інтеграцією Spring Security
- **Тестування**: Комплексна підтримка тестування з Spring Boot Test
- **Спостережливість**: Вбудовані метрики, health checks та можливості моніторингу
- **Спільнота**: Велика спільнота, обширна документація та сторонні інтеграції
- **Гнучкість**: Підтримка як традиційних, так і реактивних моделей програмування

### Негативні наслідки
- **Крива навчання**: Складний фреймворк з багатьма функціями для освоєння
- **Використання пам'яті**: Більше використання пам'яті порівняно з легковаговими альтернативами
- **Магія**: Автоконфігурація може приховувати складність і ускладнювати налагодження
- **Категоричність**: Сильні конвенції можуть не підходити для всіх випадків використання

### Нейтральні наслідки
- **Пакування JAR**: Самостійне розгортання спрощує операції
- **Конфігурація**: Управління зовнішньою конфігурацією стає важливим
- **Оновлення Spring Boot**: Регулярні оновлення фреймворку потребують обслуговування

---

## Розглянуті альтернативи

### Альтернатива 1: Micronaut
- **Опис**: Сучасний фреймворк JVM з ін'єкцією залежностей під час компіляції
- **Переваги**: Швидший час запуску, менше використання пам'яті, підтримка GraalVM native image
- **Недоліки**: Менша екосистема, менше корпоративного прийняття, крутіша крива навчання
- **Причина відхилення**: Обмежене корпоративне прийняття та менша спільнота для портфоліо цінності

### Альтернатива 2: Quarkus
- **Опис**: Kubernetes-рідний Java фреймворк, оптимізований для хмар і контейнерів
- **Переваги**: Швидкий запуск, низьке використання пам'яті, відмінні cloud-native функції
- **Недоліки**: Менша екосистема, менше корпоративного прийняття, новіший фреймворк
- **Причина відхилення**: Менш зріла екосистема та обмежене корпоративне прийняття

### Альтернатива 3: Jakarta EE
- **Опис**: Традиційний корпоративний стандарт Java з розгортанням сервера додатків
- **Переваги**: Корпоративний стандарт, комплексні функції, нейтральність постачальника
- **Недоліки**: Складне розгортання, важкі сервери додатків, повільніший цикл розробки
- **Причина відхилення**: Важка модель розгортання не підходить для проекту соло розробника

---

## Примітки з реалізації

### Технічні вимоги
- **Версія Spring Boot**: 3.2+ (остання стабільна)
- **Сумісність Java**: Java 21 LTS
- **Інструмент збірки**: Maven 3.9+ для управління залежностями
- **Пакування**: Виконуваний JAR з spring-boot-maven-plugin

### Кроки реалізації
1. Ініціалізувати Spring Boot проект з Spring Initializr
2. Налаштувати основні залежності (Web, JPA, Security, Actuator)
3. Встановити профілі додатка (розробка, тест, продакшен)
4. Налаштувати логування зі структурованим JSON виводом
5. Реалізувати health checks та endpoints метрик

### Міграційні міркування
- **База даних**: Використовувати Spring Data JPA для абстракції бази даних
- **Конфігурація**: Винести конфігурацію назовні з application.yml
- **Безпека**: Реалізувати конфігурацію Spring Security на ранньому етапі
- **Тестування**: Встановити комплексну тестову інфраструктуру

---

## Відповідність та якість

### Наслідки для безпеки
- **Spring Security**: Комплексна інтеграція framework безпеки
- **Відповідність GDPR**: Підтримка функцій захисту даних та приватності
- **Автентифікація**: OAuth2 та JWT токен-базована автентифікація
- **Авторизація**: Реалізація рольового контролю доступу (RBAC)

### Вплив на продуктивність
- **Час запуску**: Прийнятний для корпоративних додатків (5-10 секунд)
- **Використання пам'яті**: 512MB-1GB типово для корпоративних додатків
- **Пропускна здатність**: Висока пропускна здатність з вбудованим Tomcat або реактивним стеком
- **Масштабованість**: Горизонтальне масштабування з stateless дизайном

### Супроводжуваність
- **Організація коду**: Чітка структура пакетів та шарова архітектура
- **Документація**: Автогенерована документація API з Spring Boot Actuator
- **Тестування**: Комплексна підтримка тестування з Spring Boot Test
- **Налагодження**: Відмінна підтримка IDE та можливості налагодження

---

## Метрики успіху

### Ключові показники ефективності
- **Час запуску**: < 15 секунд у продакшені
- **Використання пам'яті**: < 1GB heap у продакшені
- **Час відповіді**: < 200ms для 99-го перцентиля
- **Покриття коду**: > 85% з комплексними тестами

### Моніторинг та сповіщення
- **Health Checks**: Моніторинг /actuator/health endpoint
- **Метрики**: Інтеграція Micrometer для метрик додатка
- **Сповіщення**: Недоступність додатка, високий час відповіді, витоки пам'яті
- **Розклад огляду**: Щоквартальні оновлення версії фреймворка

---

## Пов'язані документи

- **Вимоги**: [Документ бізнес-вимог](../../requirements/BUSINESS_REQUIREMENTS_ua.md)
- **Інші ADR**: [ADR-002 Версія Java](./ADR-002-Java-Version-ua.md), [ADR-009 Security Framework](./ADR-009-Security-Framework-ua.md)
- **Зовнішні ресурси**: 
  - [Документація Spring Boot](https://spring.io/projects/spring-boot)
  - [Довідник Spring Security](https://spring.io/projects/spring-security)
- **Приклади реалізації**: Стартовий проект Spring Boot в директорії `/src`

---

## Історія версій

| **Дата** | **Автор** | **Зміни** | **Причина** |
|----------|------------|-------------|------------|
| 2025-09-20 | Стефан Костик | Початкова версія | Створення документа |

---

**Статус документа**: Затверджено  
**Дата наступного огляду**: 2025-12-20  
**Категорія ADR**: Технологія 